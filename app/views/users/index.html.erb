
    <div class="container">
    <h1 class="heading fw-bolder text-center"><strong> Filter Your Matches </strong></h1>
    <%= form_tag users_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :location, params[:location], value:params[:location], class: "form-control fs-5", placeholder: "Enter Location"%>
      <%= select_tag "gender", options_for_select(["male", "female"]), class: "form-control fs-5", prompt:"Select Gender"%>
      <%= select_tag "level", options_for_select(["beginner", "intermediate", "advanced intermediate", "advanced"]), class: "form-control fs-5", prompt:"Select Level"%>
      <%= label_tag "indoor_bouldering", "Indoor Bouldering" %>
      <%= check_box_tag "indoor_bouldering", true %>
      <%= label_tag "indoor_sport_climbing", "Indoor Sport Climbing" %>
      <%= check_box_tag "indoor_sport_climbing", true %>
      <%= label_tag "indoor_top_roping", "Indoor Top Roping" %>
      <%= check_box_tag "indoor_top_roping", true %>
      <%= label_tag "outdoor_bouldering", "Outdoor Bouldering" %>
      <%= check_box_tag "outdoor_bouldering", true %>
      <%= label_tag "outdoor_sport_climbing", "Outdoor Sport Climbing" %>
      <%= check_box_tag "outdoor_sport_climbing", true %>
      <%= label_tag "outdoor_trad_climbing", "Outdoor Trad Climbing" %>
      <%= check_box_tag "outdoor_trad_climbing", true %>
      <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>


    <h1 class="heading fw-bolder text-center">🧍‍♂️<strong> Climbing Buddies Matches </strong>🧍‍♀️</h1>
    <div class="cards text-center">
        <% @users.each do |user| %>
          <div class="position-relative">
            <%= link_to user_path(user) do %>
              <div class="card-user">
                <%= cl_image_tag user.photo.key %>
                <h2 class="user-name mt-3 fw-bolder"><%= user.full_name %></h2>
                <div class="card-user-infos">
                  <p>📍<%= user.location %></p>
                    <% user.types_of_climbing.each do |type_of_climbing| %>
                    <p class="mb-0"><%= type_of_climbing %></p>
                    <% end %>
                </div>
              </div>
            <% end %>
            <div class="d-flex justify-content-center align-items-center card-btn p-0 fw-bolder">
              <% chatroom = Chatroom.where(receiver: user, requester: current_user).first || Chatroom.where(receiver: current_user, requester: user).first %>
              <% if chatroom %>
                <%= link_to 'Chat', chatroom_path(chatroom), class: "btn" %>
              <% else %>
                <%= simple_form_for [user, Chatroom.new] do |f| %>
                  <%= f.input :receiver_id, as: :hidden, input_html: { value: user.id } %>
                  <%= f.submit 'Chat', class: 'btn btn-lg' %>
                <% end %>
              <% end %>
            </div>
          </div>
        <% end %>
    </div>

    <h1 class="heading text-warning fw-bolder text-center text-light">📍 <strong> Map of Your Matches </strong> 🌎</h1>
    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
</div>
